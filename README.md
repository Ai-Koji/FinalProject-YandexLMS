# FinalProject-YandexLMS
Финальный проект для первого спринта курса "Программирование на Go" в Яндекс.Лицее

## Что за проект
Данный проект - мини-сервер, который вычисляет 
значение выражения, данное ему через Post запрос по адресу:
localhost:8080/api/v1/calculate

## из чего состоит
1. **calculate.go**
    - Проверяет и вычисляет значение из инфиксной формы записи
        - использует алгоритм для перевода из обычной инфиксной нотации(2 + 3) в постфиксну-польскую нотацию(2 3  +)
        - вычисляет значение, получая слай постфиксной нотации из математического выражения
2. **server/mux-handler.go**
    - создает обработчик запроса для сервера, который получает json post-запроса и возвращает в виде json ответ

## Как пользоваться
1. Скачать и установить Go компилятор =)
2. Перейти в корневую директорию проекта(от туда, где вы читаете этот файл)
3. Запустить через данную команду:
    - `go run cmd/main.go`
4. Тестировать

## Все сценарии, примеры ответов

Сервер обрабатывает 3 сценария
- 422 - некорректный ввод пользователя
    - буква в выражении
    - лишняя операция(2+3+)
        - или недостаток("2+3)*3")
    - отсутствие выражения(пустая строка)
- 500 - ошибка сервера
    - если произошла какая-то иная ошибка на серваке
- 200 и ответ на задачу
    - если ошибок нету и все гуд, то возвращаем 200 и ответ вычисления

Примеры:
- 200
```bash
curl --location '127.0.0.1:8080/api/v
1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "2+2*2"
}'
```
> {"result":"6"}

```bash
curl --location '127.0.0.1:8080/api/v
1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "(2+2)*2.3-7.6"
}'
```
> {"result":"1.6"}

- 422
```bash
curl --location '127.0.0.1:8080/api/v
1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": ""
}'
```
> {"error":"Invalid expression: empty string"}

```bash
curl --location '127.0.0.1:8080/api/v
1/calculate' \
--header 'Content-Type: application/json' \
--data '{
  "expression": "(2+2)и тут какие-то букОвки"
}'
```
> {"error":"Incorrect expression"}

- 500
```bash
Багов нет(наверное) :)
```
![alt text](image.png)


ошибка 500 - выводится в основном, если есть какой-то баг на сервере


